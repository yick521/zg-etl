# ========================================
# DW-ETL Flink 配置文件
# ========================================

# ========== RDBMS 数据库配置 ==========
rdbms.driverClass=com.mysql.cj.jdbc.Driver
rdbms.url=jdbc\:mysql\://realtime-1:3306/sdkv?useUnicode=true&characterEncoding=utf8&autoReconnect=true
rdbms.userName=web
rdbms.password=zanalytics
rdbms.maxPoolSize=2
rdbms.minPoolSize=1
rdbms.testQuery=select 1 from dual

# ========== Doris 写入配置 ==========
doris.fe.nodes=doris-fe1:8030,doris-fe2:8030,doris-fe3:8030
doris.username=root
doris.password=your_password
doris.database=dwd


# ========== Kafka 配置 ==========
kafka.brokers=realtime-1:9092
kafka.max.partition.fetch.bytes=52428800
kafka.max.poll.records=1000000
kafka.fetch.max.wait.ms=1000

# Gate Job
kafka.gate.sourceTopic=sdklua_online
kafka.gate.group.id=etl-gate-ning-1

# ID Job
kafka.id.sourceTopic=pay_statisv2
kafka.id.group.id=etl-id-xiezy-1
id.capacity=100

# DW Job
kafka.dw.sourceTopic=pay_zg_total_random
kafka.dw.group.id=etl-dw

# IdArchive Job
kafka.id.archive.topic=id_archive
kafka.id.archive.group.id=etl-id-archive


# 数据质量Topic
kafka.quality.topic=pay_data_quality
kafka.debug.topic=pay_data_quality

max_dev_prop_length=255


# ========== KVRocks 配置 ==========
kvrocks.host=10.10.0.115
kvrocks.port=7001
kvrocks.cluster=true
kvrocks.password=
kvrocks.local.cache.size=5000
kvrocks.local.cache.expire.minutes=30


# ========== Checkpoint 配置 ==========
checkpoint.gate.path=gate_job
checkpoint.id.path=id_job
checkpoint.dw.path=dw_job

# ========== 事件属性长度限制 ==========
event_attr_length_limit=256

# ========== 时间偏移配置 ==========
subtime=7
addtime=1

# ========== 数据质量开关 ==========
dq.enabled=true


# ========================================
# 敏感信息配置 (按需修改)
# ========================================

# ========== 加密密钥 ==========
encryption_secret_path=/path/to/encryption/secret
root_secret_path=/path/to/root/secret
worker_secret_path=/path/to/worker/secret
private_key_path=/path/to/private/key
sm2_priKey=your_sm2_key


# ========== IP解析配置 ==========
ip.file.dir=/ipFileDir
reload.ip.file=false
reload.rate.second=43200
ipv6.file.dir=/ipv6FileDir
ipv6.load=false
reload.ipv6.file=false
flag.ha=true
#flag.ha=false
fs.defaultFS=hdfs://zhugeio
dfs.nameservices=zhugeio
dfs.ha.namenodes.namespace=realtime-1,realtime-2
dfs.namenode.rpc-address.namespace.z1=realtime-1:8020
dfs.namenode.rpc-address.namespace.z2=realtime-2:8020

# ========== 百度解析配置 ==========
baidu.url=http://127.0.0.1/v1/eqid
baidu_id=2f518e5cdbcc4d1ba5b28486ad42d30d
baidu_key=db3757dd687b4441bf037743754ec4eb
# 超时时间(秒)
requestSocketTimeout=5
requestConnectTimeout=5

# ========== 异步算子配置 ==========
# 关键词解析算子
operator.keyword.timeout.ms=5000
operator.keyword.capacity=100

# IP解析
operator.ip.timeout.ms=60000
operator.ip.capacity=100

# User-Agent解析
operator.ua.timeout.ms=10000
operator.ua.capacity=100
operator.ua.cache.size=10000
operator.ua.cache.expire.minutes=60